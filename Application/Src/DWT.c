//----------------------------------------------------------------------
// Titel	:	DWT.c
//----------------------------------------------------------------------
// Sprache	:	C
// Datum	:	Jun 12, 2022
// Version	:	1.0
// Autor	:	Diveturtle93
// Projekt	:	BatteriemanagementSystem
//----------------------------------------------------------------------

// Einfuegen der standard Include-Dateien
//----------------------------------------------------------------------

//----------------------------------------------------------------------

// Einfuegen der STM Include-Dateien
//----------------------------------------------------------------------
#include "main.h"
//----------------------------------------------------------------------

// Einfuegen der eigenen Include Dateien
//----------------------------------------------------------------------
#include "DWT.h"
//----------------------------------------------------------------------

// DWT-Einheit aktivieren
//----------------------------------------------------------------------
void DWT_Enable(void)
{
	CoreDebug -> DEMCR |= CoreDebug_DEMCR_TRCENA_Msk;
}
//----------------------------------------------------------------------

//Schalte DWT ein
//----------------------------------------------------------------------
void DWT_CycCounterEn()
{
	DWT -> CTRL = 0x40000001;
}
//----------------------------------------------------------------------

// Schalte DWT aus
//----------------------------------------------------------------------
void DWT_CycCounterDis(void)
{
	DWT -> CTRL = 0x40000000;
}
//----------------------------------------------------------------------

// Lese DWT Zaehlerstand
//----------------------------------------------------------------------
uint32_t DWT_CycCounterRead(void)
{
	return DWT -> CYCCNT;
}
//----------------------------------------------------------------------

// Loesche DWT Zaehlerstand
//----------------------------------------------------------------------
void DWT_CycCounterClear(void)
{
	DWT -> CYCCNT = 0;
}
//----------------------------------------------------------------------
